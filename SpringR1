version 15.9
service timestamps debug datetime msec
service timestamps log datetime msec
no service password-encryption

hostname SpringR1
no logging console
enable secret 9 $9$5d27mrgCU4fq6t$pRYDg7Z72yQMfETmlexGG25JiiuNPv5a5F8.0QZdDxs

no aaa new-model
no ip domain lookup

ip cef
ipv6 unicast-routing
ipv6 cef
multilink bundle-name authenticated

redundancy

! Interface configurations
interface GigabitEthernet0/0
 ip address 10.150.127.5 255.255.255.252
 ip nat inside
 ip virtual-reassembly in
 ip ospf network point-to-point
 ip ospf 15 area 0
 duplex auto
 speed auto
 media-type rj45
 ipv6 address FE80::1 link-local
 ipv6 address 2001:BBFC:88EF:FFFD::1/64
 ipv6 ospf 15 area 0
 no shutdown

interface GigabitEthernet0/1
 ip address 10.150.127.9 255.255.255.252
 ip nat inside
 ip virtual-reassembly in
 ip ospf network point-to-point
 ip ospf 15 area 0
 duplex auto
 speed auto
 media-type rj45
 ipv6 address FE80::1 link-local
 ipv6 address 2001:BBFC:88EF:FFFE::1/64
 ipv6 ospf 15 area 0
 no shutdown

interface GigabitEthernet0/2
 description Line to SpringR2
 ip address 10.150.127.1 255.255.255.252
 ip helper-address 10.150.0.12
 ip nat inside
 ip virtual-reassembly in
 ip ospf 15 area 0
 duplex auto
 speed auto
 media-type rj45
 ipv6 address FE80::1 link-local
 ipv6 address 2001:BBFC:88EF:FFFF::1/64
 ipv6 ospf 15 area 0
 no shutdown

interface GigabitEthernet0/3
 ip address dhcp
 ip nat outside
 ip virtual-reassembly in
 duplex auto
 speed auto
 media-type rj45
 ip ospf 15 area 0
 no shutdown

! OSPFv3 configuration for IPv6
router ospfv3 15
 router-id 1.1.1.1
 address-family ipv6 unicast
 exit-address-family

! OSPF configuration for IPv4
router ospf 15
 router-id 1.1.1.1
 priority 127
 auto-cost reference-bandwidth 1000
 passive-interface GigabitEthernet0/3
 network 10.150.127.0 0.0.0.3 area 0    ! Advertise P2P network between SpringR1 and SpringR2
 network 10.150.127.4 0.0.0.3 area 0    ! Advertise P2P network between SpringR1 and SpringCore1
 network 10.150.127.8 0.0.0.3 area 0    ! Advertise P2P network between SpringR1 and SpringCore2

! NAT configuration
ip nat pool ACCESS 192.168.255.63 192.168.255.63 netmask 255.255.255.0
ip nat inside source list 1 interface GigabitEthernet0/3 overload

! Static route
ip route 0.0.0.0 0.0.0.0 192.168.255.1

! Logging configuration
logging trap debugging
logging origin-id hostname
logging source-interface GigabitEthernet0/2
logging host 10.150.0.16

! Access list for NAT
access-list 1 permit 10.150.0.0 0.0.0.255

! Disable HTTP server
no ip http server
no ip http secure-server

! Line configuration
line con 0
 exec-timeout 0 0
 password cisco
 logging synchronous
 login

line aux 0

line vty 0 4
 password cisco
 login
 transport input telnet

line vty 5 15
 password cisco
 login
 transport input telnet

no scheduler allocate

end
